# ููุงุณู Workflow ู ุฏฺฉููโูุง Custom

## ๐ ุฏู ุฑูุด ููุฌูุฏ ุฏุฑ ุณุณุชู

ุณุณุชู ุดูุง ุฏุฑ ุญุงู ุญุงุถุฑ **ุฏู ุฑูุด** ุจุฑุง ุชุบุฑ ูุถุนุช ฺฺฉ ุฏุงุฑุฏ:

### 1๏ธโฃ ุฑูุด ุงูู: ุฏฺฉููโูุง Custom (ูุซู Repository ูุฑุฌุน)

**ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ:**
- ุฏฺฉููโูุง custom ุฏุฑ ูุฑู ฺฺฉ ููุงุด ุฏุงุฏู ูโุดููุฏ
- ฺฉุงุฑุจุฑ ุฑู ุฏฺฉูู ฺฉูฺฉ ูโฺฉูุฏ (ูุซูุงู "Assign To Bank")
- ฺฉ ูุชุฏ Python ูุฑุงุฎูุงู ูโุดูุฏ (ูุซูุงู `assign_to_bank()`)
- ูุถุนุช ฺฺฉ ุชุบุฑ ูโฺฉูุฏ ู Journal Entry ุงุฌุงุฏ ูโุดูุฏ

**ูุซุงู:**
```javascript
// ุฏุฑ Client Script
if (status === 'Move To Box') {
    frm.add_custom_button('Assign To Bank', function() {
        frappe.call({
            method: 'erpnext_extensions.cheque_management.doctype.cheque.cheque.assign_to_bank',
            args: { name: frm.doc.name },
            callback: function(r) {
                frm.reload_doc();
            }
        });
    });
}
```

**ูุฒุงุง:**
- โ ุณุงุฏู ู ูุณุชูู
- โ ฺฉูุชุฑู ฺฉุงูู ุฑู UI
- โ ุงูุนุทุงูโูพุฐุฑ ุจุฑุง ุชุบุฑุงุช
- โ ูุซู Repository ูุฑุฌุน ุนูู ูโฺฉูุฏ

**ูุนุงุจ:**
- โ ูุงุฒ ุจู ฺฉุฏููุณ JavaScript ุจุฑุง ูุฑ ุฏฺฉูู
- โ ูุฏุฑุช ุฏุณุชุฑุณโูุง ุจุงุฏ ุฏุณุช ุงูุฌุงู ุดูุฏ
- โ ููโุชูุงู ุงุฒ ูุงุจูุชโูุง ูพุดโูุฑุถ Frappe Workflow ุงุณุชูุงุฏู ฺฉุฑุฏ

---

### 2๏ธโฃ ุฑูุด ุฏูู: Frappe Workflow (ุฌุฏุฏ - ุงุถุงูู ุดุฏู)

**ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏ:**
- Workflow ุฏุฑ Frappe UI ุชุนุฑู ูโุดูุฏ
- ุฏฺฉููโูุง workflow ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ููุงุด ุฏุงุฏู ูโุดููุฏ
- ููฺฏุงู ุชุบุฑ workflow stateุ hook `on_cheque_update` ุงุฌุฑุง ูโุดูุฏ
- Journal Entry ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฌุงุฏ ูโุดูุฏ

**ูุซุงู:**
```
ฺฉุงุฑุจุฑ โ Workflow Action "Assign To Bank" โ workflow_state ุชุบุฑ ูโฺฉูุฏ
โ Hook on_cheque_update ุงุฌุฑุง ูโุดูุฏ
โ create_je_for_workflow_state() ูุฑุงุฎูุงู ูโุดูุฏ
โ Journal Entry ุงุฌุงุฏ ูโุดูุฏ
```

**ูุฒุงุง:**
- โ ุงุณุชูุงุฏู ุงุฒ ูุงุจูุชโูุง ูพุดโูุฑุถ Frappe
- โ ูุฏุฑุช ุฏุณุชุฑุณโูุง ุฏุฑ UI (ุจุฏูู ฺฉุฏููุณ)
- โ ุงูฺฉุงู ุชุนุฑู ุดุฑุงุท (conditions) ุจุฑุง transitions
- โ ุงูฺฉุงู ุงุฑุณุงู ุงูู ุฎูุฏฺฉุงุฑ
- โ ุงูฺฉุงู ุชุนุฑู approval workflow
- โ ููุงุด visual workflow diagram

**ูุนุงุจ:**
- โ ูุงุฒ ุจู ุชูุธู Workflow ุฏุฑ Frappe UI
- โ ูพฺุฏูโุชุฑ ุจุฑุง ุดุฑูุน
- โ ูุงุฒ ุจู ุฏุฑฺฉ Frappe Workflow

---

## ๐ ุชูุงูุช ุฏุฑ ูุญูู ฺฉุงุฑ

### ุฑูุด Custom Buttons (ูุนู):

```
ฺฉุงุฑุจุฑ โ ฺฉูฺฉ ุฑู ุฏฺฉูู "Assign To Bank"
  โ
Client Script โ ูุฑุงุฎูุงู ูุชุฏ Python
  โ
assign_to_bank() โ ุชุบุฑ status + ุงุฌุงุฏ JE
  โ
ุฐุฎุฑู ุณูุฏ
```

### ุฑูุด Workflow (ุฌุฏุฏ):

```
ฺฉุงุฑุจุฑ โ ฺฉูฺฉ ุฑู Workflow Action "Assign To Bank"
  โ
Frappe Workflow Engine โ ุชุบุฑ workflow_state
  โ
Hook on_cheque_update โ ุชุดุฎุต ุชุบุฑ workflow_state
  โ
create_je_for_workflow_state() โ ุงุฌุงุฏ JE
  โ
ููฺฏุงูโุณุงุฒ status ุจุง workflow_state
  โ
ุฐุฎุฑู ุณูุฏ
```

---

## ๐ฏ ฺฉุฏุงู ุฑูุด ุฑุง ุงูุชุฎุงุจ ฺฉููุ

### โ **ูพุดููุงุฏ: ุงุณุชูุงุฏู ุงุฒ Workflow**

**ุฏูุงู:**

1. **ูุฏุฑุช ุจูุชุฑ ุฏุณุชุฑุณโูุง:**
   - ูโุชูุงูุฏ ุฏุฑ UI ุชุนู ฺฉูุฏ ฺฉู ฺู ฺฉุณ ูโุชูุงูุฏ ฺู action ุฑุง ุงูุฌุงู ุฏูุฏ
   - ุจุฏูู ูุงุฒ ุจู ฺฉุฏููุณ

2. **ูุงุจูุชโูุง ูพุดุฑูุชู:**
   - Approval workflow (ูุงุฒ ุจู ุชุฃุฏ ูุจู ุงุฒ ุชุบุฑ ูุถุนุช)
   - ุงุฑุณุงู ุงูู ุฎูุฏฺฉุงุฑ
   - ุชุนุฑู ุดุฑุงุท (ูุซูุงู ููุท ุจุฑุง ูุจูุบโูุง ุจุงูุง X)

3. **ูฺฏูุฏุงุฑ ุขุณุงูโุชุฑ:**
   - ุชุบุฑุงุช workflow ุฏุฑ UI ุงูุฌุงู ูโุดูุฏ
   - ูุงุฒ ุจู ุชุบุฑ ฺฉุฏ ฺฉูุชุฑ ุงุณุช

4. **ูุทุงุจู ุจุง ุงุณุชุงูุฏุงุฑุฏ Frappe:**
   - ุงุณุชูุงุฏู ุงุฒ ูุงุจูุชโูุง ูพุดโูุฑุถ Frappe
   - ุณุงุฒฺฏุงุฑ ุจุง ุณุงุฑ ูุงฺููโูุง

### โ๏ธ **ุงูุง:**

ุงฺฏุฑ ูโุฎูุงูุฏ **ุณุงุฏูโุชุฑ** ุจุงุดุฏ ู **ูุซู Repository ูุฑุฌุน** ุนูู ฺฉูุฏ:
- ูโุชูุงูุฏ ููุท ุงุฒ ุฏฺฉููโูุง custom ุงุณุชูุงุฏู ฺฉูุฏ
- Workflow ุฑุง ุบุฑูุนุงู ฺฉูุฏ
- ฺฉุฏ ุณุงุฏูโุชุฑ ูโุดูุฏ

---

## ๐๏ธ ูุญูู ูุนุงูโุณุงุฒ Workflow

### ูุฑุญูู 1: ุงุฌุงุฏ Workflow ุฏุฑ Frappe UI

1. ุจู **Setup > Workflow > Workflow** ุจุฑูุฏ
2. ฺฉ Workflow ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ:
   - **Document Type**: Cheque
   - **Workflow State Field**: workflow_state
   - **Condition**: `doc.cheque_type == "Receivable"` (ุจุฑุง ฺฺฉโูุง ุฏุฑุงูุชู)

3. States ุฑุง ุงุถุงูู ฺฉูุฏ:
   - Received From Customer
   - Waiting For Sayad
   - Registered In Sayad
   - Move To Box
   - Under Collection
   - Collected
   - Returned From Bank
   - ...

4. Transitions ุฑุง ุชุนุฑู ฺฉูุฏ:
   - ุงุฒ "Received From Customer" ุจู "Waiting For Sayad" ุจุง Action "Mark Waiting For Sayad"
   - ุงุฒ "Move To Box" ุจู "Under Collection" ุจุง Action "Assign To Bank"
   - ...

5. Permissions ุฑุง ุชูุธู ฺฉูุฏ:
   - ฺู ฺฉุณ ูโุชูุงูุฏ ฺู action ุฑุง ุงูุฌุงู ุฏูุฏ

### ูุฑุญูู 2: ุบุฑูุนุงู ฺฉุฑุฏู ุฏฺฉููโูุง Custom (ุงุฎุชุงุฑ)

ุงฺฏุฑ ูโุฎูุงูุฏ ููุท ุงุฒ Workflow ุงุณุชูุงุฏู ฺฉูุฏุ ูโุชูุงูุฏ Client Scripts ุฑุง ุบุฑูุนุงู ฺฉูุฏ:

```javascript
// ุฏุฑ client_script.json
"enabled": 0  // ุจู ุฌุง 1
```

ุง ูโุชูุงูุฏ ูุฑ ุฏู ุฑุง ูฺฏู ุฏุงุฑุฏ (ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุงุฒ ูุฑ ุฏู ุงุณุชูุงุฏู ฺฉูุฏ).

---

## ๐ ุฎูุงุตู

| ูฺฺฏ | Custom Buttons | Workflow |
|-------|---------------|----------|
| **ุณุงุฏฺฏ** | โ ุณุงุฏู | โ๏ธ ูุงุฒ ุจู ุชูุธู |
| **ุงูุนุทุงูโูพุฐุฑ** | โ ุฎู ุงูุนุทุงูโูพุฐุฑ | โ ุงูุนุทุงูโูพุฐุฑ |
| **ูุฏุฑุช ุฏุณุชุฑุณ** | โ๏ธ ูุงุฒ ุจู ฺฉุฏููุณ | โ ุฏุฑ UI |
| **Approval Flow** | โ ูุฏุงุฑุฏ | โ ุฏุงุฑุฏ |
| **ุงูู ุฎูุฏฺฉุงุฑ** | โ ูุฏุงุฑุฏ | โ ุฏุงุฑุฏ |
| **Visual Diagram** | โ ูุฏุงุฑุฏ | โ ุฏุงุฑุฏ |
| **ูุทุงุจู Repository ูุฑุฌุน** | โ ุจูู | โ ุฎุฑ |

---

## ๐ก ุชูุตู ููุง

**ุงฺฏุฑ ูโุฎูุงูุฏ:**
- **ุณุงุฏู ู ูุณุชูู** ุจุงุดุฏ โ ุงุฒ **Custom Buttons** ุงุณุชูุงุฏู ฺฉูุฏ
- **ุญุฑููโุง ู ูพุดุฑูุชู** ุจุงุดุฏ โ ุงุฒ **Workflow** ุงุณุชูุงุฏู ฺฉูุฏ
- **ูุฑ ุฏู** ุฑุง ุฏุงุดุชู ุจุงุดุฏ โ ูุฑ ุฏู ุฑุง ูุนุงู ูฺฏู ุฏุงุฑุฏ

**ุชูุตู ูู:** ุงุฒ **Workflow** ุงุณุชูุงุฏู ฺฉูุฏ ฺูู:
1. ูุงุจูุชโูุง ุจุดุชุฑ ุฏุงุฑุฏ
2. ูฺฏูุฏุงุฑ ุขุณุงูโุชุฑ ุงุณุช
3. ูุทุงุจู ุจุง ุงุณุชุงูุฏุงุฑุฏ Frappe ุงุณุช
4. ุฏุฑ ุขูุฏู ูโุชูุงูุฏ approval workflow ุงุถุงูู ฺฉูุฏ

---

## ๐ง ุงฺฏุฑ ูโุฎูุงูุฏ ููุท Custom Buttons ุงุณุชูุงุฏู ฺฉูุฏ

ูโุชูุงูุฏ:
1. Hook ูุง workflow ุฑุง ุญุฐู ฺฉูุฏ (ุง ุบุฑูุนุงู ฺฉูุฏ)
2. ููุฏ `workflow_state` ุฑุง ุญุฐู ฺฉูุฏ (ุง ูฺฏู ุฏุงุฑุฏ)
3. ููุท ุงุฒ Client Scripts ุงุณุชูุงุฏู ฺฉูุฏ

ุงูุง ุชูุตู ูโฺฉูู workflow ุฑุง ูฺฏู ุฏุงุฑุฏ ู ููุท ุงุฒ Custom Buttons ุงุณุชูุงุฏู ฺฉูุฏ. ุฏุฑ ุขูุฏู ูโุชูุงูุฏ ุจู workflow ููุงุฌุฑุช ฺฉูุฏ.
